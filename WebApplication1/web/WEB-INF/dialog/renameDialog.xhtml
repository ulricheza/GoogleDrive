<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
    
    <h:head>
       <h:outputStylesheet name="app.css" library="css"  />
        <h:outputScript library="primefaces" name="jquery/jquery.js" />
    </h:head>
    
    <script type="text/javascript">
            function showDialog(){
                $('#newName').val('#{documentController.document.title}');
                PF('dlg').show();
            }
            
            function updateName(){
                var title = $('#newName').val();
                document.title = title;
                $('#modal').html(title);
               
                alert($('#test').val());
                
                PF('dlg').hide();
            }
        </script>
    
    <p:commandButton id="modal" value="#{documentController.document.title}" 
                             onclick="showDialog();" 
                             type="button" title="Rename document"/>             
            <!-- <ui:include src="/WEB-INF/jsf/renameDialog.xhtml" />   -->
            <p:dialog id="modalDialog" header="Rename document" widgetVar="dlg" modal="true" 
                      height="125" resizable="false" > 
                <h:outputText value="Enter a new document name :" /> 
                <br/><br/>
                <input type="text" id="newName"/>
                <br/><br/>
                <div>                    
                    <p:commandButton style="margin-right:10px;" value="Ok" onclick="updateName();" />
                    <p:commandButton value="Cancel" onclick="PF('dlg').hide()" />
                </div>
            </p:dialog> 
   
</ui:composition>